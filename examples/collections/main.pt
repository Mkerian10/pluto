fn main() int {
    // Maps: key-value pairs with type-safe access
    let scores = Map<string, int> { "alice": 95, "bob": 87, "charlie": 92 }
    print("Scores:")
    for name in scores.keys() {
        print(f"{name}: {scores[name]}")
    }
    print(f"Total students: {scores.len()}")

    // Index assignment
    scores["dave"] = 88
    print(f"After adding dave: {scores.len()}")

    // Update existing
    scores["bob"] = 90
    print(f"Bob's new score: {scores["bob"]}")

    // Contains + remove
    print(f"Has alice? {scores.contains("alice")}")
    scores.remove("alice")
    print(f"After removing alice: {scores.len()}")

    // Sets: unique collections
    let fruits = Set<string> { "apple", "banana", "cherry" }
    print(f"\nFruits: {fruits.len()} items")
    print(f"Has apple? {fruits.contains("apple")}")
    print(f"Has grape? {fruits.contains("grape")}")

    // Duplicates are ignored
    fruits.insert("apple")
    print(f"After re-inserting apple: {fruits.len()}")

    // Remove
    fruits.remove("banana")
    print(f"After removing banana: {fruits.len()}")

    // Iterate via to_array
    let total = 0
    let numbers = Set<int> { 10, 20, 30, 40 }
    for n in numbers.to_array() {
        total = total + n
    }
    print(f"\nSum of number set: {total}")

    return 0
}
